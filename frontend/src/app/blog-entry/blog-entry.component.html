<div class="container mt-4">
    <div class="row">
        <div class="container mt-4 position-relative">
            <button class="btn btn-secondary fw-bold position-absolute top-0 start-0 m-3"
                    (click)="goBack()">
                Zur√ºck
            </button>
        </div>
    </div>

    <div class="row align-items-center">
        <div class="col-12 text-center">
            <h2 class="mt-3 fw-bold text-primary">Blog Upload</h2>
        </div>
    </div>

    <div class="mt-4 p-4 bg-light rounded shadow" style="max-width: 800px; margin: 30px auto;">
        <form (submit)="uploadCategory()" #uploadForm="ngForm">

          <mat-form-field appearance="fill" class="w-100 mb-2">
            <mat-label>Autor(en)</mat-label>
            <mat-select [(ngModel)]="blog.author_ids" name="author" multiple>
              <mat-option *ngFor="let author of authors" [value]="author._id">
                {{ author.username }}
              </mat-option>
            </mat-select>
          </mat-form-field>


          <div class="form-group mb-4">
                <label for="title">Titel:</label>
                <input type="text" class="form-control form-control-lg"
                       id="title" name="title"
                       [(ngModel)]="blog.title" required />
            </div>

            <div class="form-group mb-4">
                <label for="description">Beschreibung:</label>
                <textarea id="description" class="form-control form-control-lg"
                          [(ngModel)]="blog.description" name="description"></textarea>
            </div>

            <div class="form-group mb-4">
                <label for="content">Blog-Inhalt:</label>
                <div class="content-editor">
                    <textarea id="content" class="form-control form-control-lg"
                              [(ngModel)]="blog.content" name="content" rows="10"
                              placeholder="Schreiben Sie hier Ihren Blog-Eintrag..."></textarea>
                </div>
            </div>

            <div class="form-group mb-4">
                <label for="category">Kategorie:</label>
              <select id="category"
                      class="form-control form-control-lg"
                      [(ngModel)]="blog.category"
                      name="category"
                      required>
                <option *ngFor="let category of categories" [value]="category._id">
                  {{ category.name }}
                </option>
              </select>

            </div>

            <div class="form-group mb-4">
                <label for="newCategory">Neue Kategorie (falls keine passende vorhanden ist):</label>
                <input type="text" class="form-control form-control-lg"
                       id="newCategory" name="newCategory"
                       [(ngModel)]="newCategory" />
            </div>

            <div class="form-group mb-4">
                <label for="contentImage">Bild:</label>
                <input id="contentImage" type="file" class="form-control form-control-lg"
                       (change)="onContentFileChange($event)" accept="image/*" />
            </div>
            <div class="preview" *ngIf="blog.images.length > 0">
                <h5>Bildvorschau:</h5>
                <div *ngFor="let img of blog.images">
                    <img [src]="img" style="max-width: 100%; height: auto; margin-bottom: 10px;">
                </div>
            </div>

            <div class="form-group mb-4">
                <label for="commentsAllowed">Kommentare erlaubt: </label>
                <input type="checkbox" id="commentsAllowed" [(ngModel)]="blog.commentsAllowed" name="commentsAllowed" />
            </div>

            <button type="submit" class="btn btn-primary btn-block w-100" style="font-size: 18px; padding: 15px;">
                Hochladen
            </button>
        </form>
    </div>
</div>
